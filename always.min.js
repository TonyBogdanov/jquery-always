!function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(){function e(){}return e.OPERATION_INSERTION=0,e.OPERATION_REMOVAL=1,e}(),n=function(){function e(e){var t=this;this.insertedCallbacks={},this.removedCallbacks={},this.element=e,this.observer=new MutationObserver(function(e){return e.forEach(function(e){"childList"===e.type&&([].forEach.call(e.addedNodes,function(e){e instanceof HTMLElement&&t.notifyInserted(e)}),[].forEach.call(e.removedNodes,function(e){e instanceof HTMLElement&&t.notifyRemoved(e)}))})}),this.observer.observe(this.element,{childList:!0,subtree:!0})}return e.data=function(e){return e.hasOwnProperty("jQueryAlways")||Object.defineProperty(e,"jQueryAlways",{value:new t,configurable:!0}),e.jQueryAlways},e.attach=function(t){var n=this.data(t);return n.instance||(n.instance=new e(t)),n.instance},e.detach=function(t){e.attach(t).observer.disconnect(),delete t.jQueryAlways},e.normalizeSelector=function(e){return e.split(",").map(function(e){return e.trim()}).sort().join(",")},e.always=function(t,n,r,a){var o=e.attach(t);"function"==typeof r&&(o.addInsertedCallback(n,r),[].forEach.call(t.querySelectorAll(n),function(e){r.call(e)})),"function"==typeof a&&o.addRemovedCallback(n,a)},e.never=function(t,n,r,a){if(n){var o=e.attach(t);if(!r&&!a)return o.removeInsertedCallback(n),void o.removeRemovedCallback(n);r&&o.removeInsertedCallback(n,r),a&&o.removeRemovedCallback(n,a)}else e.detach(t)},e.prototype.addCallback=function(t,n,r){return n=e.normalizeSelector(n),t.hasOwnProperty(n)||(t[n]=[]),t[n].push(r),this},e.prototype.removeCallback=function(t,n,r){if(n=e.normalizeSelector(n),!t.hasOwnProperty(n))return this;if(r)for(var a=-1;-1<(a=t[n].indexOf(r));)t[n].splice(a,1);else delete t[n];return this},e.prototype.notifyInserted=function(n){var r=this,a=e.data(n);return t.OPERATION_INSERTION===a.lastOperation?this:(a.lastOperation=t.OPERATION_INSERTION,Object.keys(this.insertedCallbacks).forEach(function(e){n.matches(e)&&r.insertedCallbacks[e].forEach(function(e){e.call(n)})}),[].forEach.call(n.querySelectorAll("*"),function(e){r.notifyInserted(e)}),this)},e.prototype.notifyRemoved=function(n){var r=this,a=e.data(n);return t.OPERATION_REMOVAL===a.lastOperation?this:(a.lastOperation=t.OPERATION_REMOVAL,[].forEach.call(n.querySelectorAll("*"),function(e){r.notifyRemoved(e)}),Object.keys(this.removedCallbacks).forEach(function(e){n.matches(e)&&r.removedCallbacks[e].forEach(function(e){e.call(n)})}),this)},e.prototype.addInsertedCallback=function(e,t){return this.addCallback(this.insertedCallbacks,e,t)},e.prototype.addRemovedCallback=function(e,t){return this.addCallback(this.removedCallbacks,e,t)},e.prototype.removeInsertedCallback=function(e,t){return this.removeCallback(this.insertedCallbacks,e,t)},e.prototype.removeRemovedCallback=function(e,t){return this.removeCallback(this.removedCallbacks,e,t)},e}();function r(){window.Always={always:n.always,never:n.never}}function a(){var t;void 0!==e&&(t=e).extend(t.fn,{always:function(e,r,a){return t(this).each(function(){n.always(this,e,r,a)})},never:function(e,r,a){return t(this).each(function(){n.never(this,e,r,a)})}})}var o=function(){function e(){}return e.native=r,e.jQuery=a,e}();function c(){window.MutationObserver||(window.MutationObserver=window.WebKitMutationObserver)}function i(){var e=this,t=Element.prototype;t.matches||(t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var n=(e.document||e.ownerDocument).querySelectorAll(t),r=0;r<n.length;r++)if(n.item(r)===e)return!0;return!1})}var l=function(){function e(){}return e.elementMatches=i,e.mutationObserver=c,e}();l.elementMatches(),l.mutationObserver(),o.native(),o.jQuery()}(jQuery);
//# sourceMappingURL=always.min.js.map